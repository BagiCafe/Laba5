# LABA4 ( Симуляция с пользовательсĸими ĸоллеĸциями и псевдослучайной моделью)

# Вариант «Библиотеĸа»

## Установка и запуск

### Запуск Лабы
```bash
# Клонирование репозитория
git clone <https://github.com/BagiCafe/Laba4_buggy.git>

# Установите pytest для тестов
pip install pytest

# Запуск симуляции
python main.py
```
## Функционал

### Классы Book
1) ```Book``` (Книга)
   - Базовый класс с полями: ```title```, ```author```, ```year```, ```genre```, ```isbn```
2) ```FictionBook``` (художественная книга) 
   - Производный класс (доп. поле: ```pages```)
3) ```ComicBook``` (комикс) 
   - Производный класс (доп. поле: ```comic_type```)
4) Реализован магический метод - ```__repr__```

### Класс BookCollection
#### Пользовательская списковая коллекция книг
   - Поддерживает такие методы как: ```__iter__```, ```__len__```, ```__getitem__```, ```append_collection```, ```remove_collection```
   - Реализован магический метод - ```__contains__```

### Класс IndexDict
#### Пользовательская словарная коллекция для индексов
   - Поддерживает такие методы как: ```__iter__```, ```__len__```, ```__getitem__```, ```append_book```, ```remove_book```
   - Реализован магический метод - ```__contains__```

### Класс Library
#### Содержит в себе:
1) Коллекцию всех книг (```BookCollection```)
2) Коллекцию индексов (```IndexDict```)
3) Методы поиска книг
    - Нахождение книги по ISBN - ```search_isbn```
    - Нахождение всех книг выбранного автора - ```search_author```
    - Нахождение всех книг выбранного года издания - ```search_year```
4) Реализован магический метод - ```__repr__```

### Псевдослучайная симуляция событий
#### Симуляция выполняет случайные события на каждом шаге:
- Добавить книгу (```add_book```) - добавляет случайную книгу из набора
- Удалить книгу (```remove_book```) - удаляет случайную книгу из библиотеки
- Найти по автору (```find_author```) - поиск книг по случайному автору
- Найти по году (```find_year```) - поиск книг по случайному году
- Найти по жанру (```find_genre```) - поиск книг по случайному жанру
- Обновить индекс (```update_index```) - проверка синхронизации индексов
- Найти несуществующую книгу (```find_nonexistent```) - ищет несуществующую книгу по ISBN, автору и году

#### Программа запросит:
- Количество шагов симуляции
- Seed


## Тестирование
Для запуска всех тестов необходимо ввести в консоль:
```bash
python -m pytest tests/ -v
```

Для запуска определенного теста ввидите в консоль:
```bash
python -m pytest tests/<file_name_test> -v
```
Название всех тестов:
- test_book.py
- test_collections.py
- test_library.py
